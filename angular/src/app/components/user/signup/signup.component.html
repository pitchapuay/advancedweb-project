<div classs="container" style="margin-top: 60px;">
    <div class="card">
        <div class="card-header">
            สมัครสมาชิก
        </div>
        <div class="card-body" style="margin: 0px 20px 0px 20px;">

            <form [formGroup]="profileForm" (ngSubmit)="signup()">

                <div class="form-row align-items-center">
                    <div class="form-group col-sm-2">
                        <label>Username</label>
                    </div>
                    <div class="form-group col-sm-6">
                        <input type="text" class="form-control" formControlName='username'>
                    </div>
                    <div class="form-group col-sm">
                        <div *ngIf="getFormControl('username').invalid && (getFormControl('username').dirty || getFormControl('username').touched)" class="alertt">
                            <div *ngIf="getFormControl('username').errors.required">
                                *กรุณากรอก Username
                            </div>
                            <div *ngIf="getFormControl('username').errors.minlength">
                                *Username ควรมีความยาวมากกว่า 5 ตัวอักษร
                            </div>
                            <div *ngIf="getFormControl('username').errors.maxlength">
                                *Username ควรมีความยาวน้อยกว่า 30 ตัวอักษร
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-row align-items-center">
                    <div class="form-group col-sm-2">
                        <label>Password</label>
                    </div>
                    <div class="form-group col-sm-6">
                        <input type="password" name="password" class="form-control" formControlName='password'>
                    </div>
                    <div class="form-group col-sm">
                        <div *ngIf="getFormControl('password').invalid && (getFormControl('password').dirty || getFormControl('password').touched)" class="alertt">
                            <div *ngIf="getFormControl('password').errors.required">
                                *กรุณากรอก Password
                            </div>
                            <div *ngIf="getFormControl('password').errors.pattern">
                                *Password ควรมีความยาว 5-40 ตัวอักษร ประกอบด้วย A-Z/a-z และตัวเลข 
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-row align-items-center">
                    <div class="form-group col-sm-2">
                        <label>Email</label>
                    </div>
                    <div class="form-group col-sm-6">
                        <input type="email" class="form-control" formControlName='email'>
                    </div>
                    <div class="form-group col-sm">
                        <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alertt">
                            <div *ngIf="email.errors.required">
                                *กรุณากรอก Email
                            </div>
                            <div *ngIf="email.errors.email">
                                *Email ไม่ถูกต้อง
                            </div>
                        </div>
                    </div>
                </div>
                <hr />

                <h4>ข้อมูลส่วนตัว</h4>
                <br />

                <div class="form-row align-items-center">
                    <div class="form-group col-sm-2">
                        <label>ชื่อเต็ม</label>
                    </div>
                    <div class="form-group col-sm-6">
                        <input type="text" class="form-control" formControlName='name'>
                    </div>
                    <div class="form-group col-sm">
                        <div *ngIf="getFormControl('name').invalid && (getFormControl('name').dirty || getFormControl('name').touched)" class="alertt">
                            <div *ngIf="getFormControl('name').errors.required">
                                *กรุณากรอกชื่อเต็ม
                            </div>
                            <div *ngIf="getFormControl('name').errors.minlength">
                                *ชื่อเต็มควรมีความยาวมากกว่า 5 ตัวอักษร
                            </div>
                            <div *ngIf="getFormControl('name').errors.maxlength">
                                *ชื่อเต็มควรมีความยาวน้อยกว่า 50 ตัวอักษร
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-row align-items-center">
                    <div class="form-group col-sm-2">
                        <label>อายุ</label>
                    </div>
                    <div class="form-group col-sm-6">
                        <input type="number" class="form-control" formControlName='age'>
                    </div>
                    <div class="form-group col-sm">
                        <div *ngIf="getFormControl('age').invalid && (getFormControl('age').dirty || getFormControl('age').touched)" class="alertt">
                            <div *ngIf="getFormControl('age').errors.required">
                                *กรุณากรอกอายุ
                            </div>
                            <div *ngIf="getFormControl('age').errors.min">
                                *อายุควรมากกว่า 1 ปี
                            </div>
                            <div *ngIf="getFormControl('age').errors.max">
                                *อายุควรน้อยกว่า 100 ปี
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-row align-items-center">
                    <div class="form-group col-sm-2">
                        <label>รูปประจำตัว</label>
                    </div>
                    <div class="form-group col-sm">
                        <input type="file" class="form-control-file" formControlName='file'
                            (change)="onChangeImg($event)">
                    </div>
                    <div class="form-group col-sm">
                        <div *ngIf="getFormControl('file').invalid && (getFormControl('file').dirty || getFormControl('file').touched)" class="alertt">
                            <div *ngIf="getFormControl('file').errors.required">
                                *กรุณาเลือกรูปประจำตัว
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-2">

                    </div>
                    <div class="col-md-9">
                        <img *ngIf="previewLoaded" class="img-thumbnail" [src]="this.profileForm.value.avatar"
                            style="height:150px;">
                    </div>
                </div>

                <br />
                <button  type="submit" [disabled]="!profileForm.valid" class="btn btn-success">สมัครสมาชิก</button>&nbsp;
                <button type="reset" class="btn btn-danger" (click)="resetForm()">ล้างข้อมูล</button>
            </form>
        </div>
    </div>
</div>