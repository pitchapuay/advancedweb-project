!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("angular-web-storage",["exports","@angular/core"],t):t((e=e||self)["angular-web-storage"]={},e.ng.core)}(this,(function(e,t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function o(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u}function i(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var u="object"==typeof document&&!!document,c=function(){function e(){}return e.get=function(t,n){if(null==t)return null;var r=e.parse(t.getItem(n)||"null")||null;return null===r?null:"object"==typeof r&&void 0!==r._expired&&0!==r._expired&&+new Date>r._expired?(e.remove(t,n),null):r._value||null},e.set=function(t,n,r,o,i){void 0===o&&(o=0),void 0===i&&(i="t"),null!=t&&t.setItem(n,e.stringify({_expired:e.getExpired(o,i),_value:r}))},e.remove=function(e,t){null!=e&&e.removeItem(t)},e.key=function(e,t){if(null!=e)return e.key(t)},e.getExpired=function(e,t){if(e<=0)return 0;var n=+new Date;switch(t){case"s":return n+1e3*e;case"m":return n+6e4*e;case"h":return n+36e5*e;case"d":return n+864e5*e;case"w":return n+6048e5*e;case"y":return n+31536e6*e;case"t":return n+e}return 0},e.stringify=function(e){return JSON.stringify(e)},e.parse=function(e){try{return JSON.parse(e)||null}catch(t){return e}},e}(),a={};function f(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r="d"),function(o,i){t=t||i,Object.defineProperty(o,i,{get:function(){return c.get(e,t)},set:function(o){if(!a[t])return null===c.get(e,t)&&c.set(e,t,o,n,r),void(a[t]=!0);c.set(e,t,o,n,r)},enumerable:!0,configurable:!0})}}var l=function(){function e(e){this.storage=e}return e.prototype.get=function(e){return c.get(this.storage,e)},e.prototype.set=function(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r="d"),c.set(this.storage,e,t,n,r)},e.prototype.remove=function(e){var t=this;if("string"!=typeof e){for(var n=0,r=c.key(this.storage,n),o=[];r;)e.test(r)&&o.push(r),r=c.key(this.storage,++n);o.forEach((function(e){return c.remove(t.storage,e)}))}else c.remove(this.storage,e)},e.prototype.clear=function(){this.storage.clear()},e.ctorParameters=function(){return[{type:Storage}]},e=o([t.Injectable(),i("design:paramtypes",[Storage])],e)}(),s=function(e){function n(){return e.call(this,u?localStorage:null)||this}return r(n,e),n.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new n},token:n,providedIn:"root"}),n=o([t.Injectable({providedIn:"root"}),i("design:paramtypes",[])],n)}(l),p=function(e){function n(){return e.call(this,u?sessionStorage:null)||this}return r(n,e),n.ɵprov=t["ɵɵdefineInjectable"]({factory:function(){return new n},token:n,providedIn:"root"}),n=o([t.Injectable({providedIn:"root"}),i("design:paramtypes",[])],n)}(l),d=function(){function e(){}return e=o([t.NgModule()],e)}();e.AngularWebStorageModule=d,e.LocalStorage=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n="t"),f(u?localStorage:null,e,t,n)},e.LocalStorageService=s,e.SessionStorage=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n="t"),f(u?sessionStorage:null,e,t,n)},e.SessionStorageService=p,e.StorageService=l,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-web-storage.umd.min.js.map